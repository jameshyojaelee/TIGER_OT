â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘           âœ… TIGER WORKFLOW - FULLY OPERATIONAL AND READY TO USE âœ…         â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Date: 2025-09-30
Status: ğŸ‰ All Components Tested and Working

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PRE-FLIGHT CHECK RESULTS:

  âœ… Test 1: Wrapper Script (scripts/00_load_environment.sh)
  âœ… Test 2: Python Environment (Python 3.12.3)
  âœ… Test 3: Python Packages (TensorFlow 2.17.0, NumPy 1.26.4, Pandas 2.2.2)
  âœ… Test 4: TIGER Core Files (src/lib/tiger_core/)
  âœ… Test 5: TIGER Model Files (resources/models/tiger_model/)
  âœ… Test 6: Workflow Script (run_tiger.py loads)
  âœ… Test 7: Configuration File (configs/default.yaml valid)
  âœ… Test 8: Off-Target Binary (bin/offtarget_search)
  âœ… Test 9: Reference Datasets (configs/default.yaml + transcriptomes reachable)

  Result: 9/9 PASSED âœ…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

INTEGRATED FEATURES:

  1. âœ… TIGER Integration - Fully independent (no external dependencies)
  2. âœ… MM0 >= 1 Fix - Only valid guides selected
  3. âœ… Score-First Filtering - High-quality guides prioritized (>= 0.80)
  4. âœ… MM0 Tolerance - Flexible MM0 filtering (min to min+3)
  5. âœ… MM0 Location Validation - Analyzes same-gene vs cross-gene matches

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

TO RUN THE WORKFLOW:

  cd /gpfs/commons/groups/sanjana_lab/Cas13/TIGER
  
  # Create targets file
  cat > my_targets.txt <<EOT
  Abcb11
  Abhd5
  Pnpla3
  Pcsk9
  Plin3
  Plin2
  Pnpla2
  EOT
  
  # Run workflow (single-line launcher wraps the environment)
  scripts/04_run_workflow.sh my_targets.txt --species mouse
  
  # Or use the bundled smoke test (trimmed seven-gene reference: Abcb11, Abhd5, Pnpla3, Pcsk9, Plin3, Plin2, Pnpla2)
  scripts/04_run_workflow.sh examples/targets/test_targets.txt --species mouse --config configs/smoke-test.yaml --output-dir runs/smoke --skip-validation
  
  # Check results
  head runs/latest/final_guides.csv
  head runs/smoke/final_guides.csv  # Smoke-test output
  less runs/latest/mm0_location_analysis.csv  # If validation enabled

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CURRENT CONFIGURATION (configs/default.yaml):

  filtering:
    min_guide_score: 0.80    # High-quality threshold
    mm0_tolerance: 3         # Flexible MM0 filtering
    mm1_threshold: 0         # No 1-mismatch off-targets
    mm2_threshold: 0         # No 2-mismatch off-targets
    adaptive_mm0: true       # Minimum MM0 per gene
    top_n_guides: 10         # Guides per gene
  
  output:
    validate_mm0_locations: true  # Analyze MM0 locations

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

QUALITY GUARANTEES:

  All final guides have:
    âœ… Score >= 0.80 (high-quality TIGER predictions)
    âœ… MM0 >= 1 (match at least their intended target)
    âœ… MM1 = 0 (no 1-mismatch off-targets)
    âœ… MM2 = 0 (no 2-mismatch off-targets)
    âœ… MM0 in [min, min+3] per gene (specificity with flexibility)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

KEY SCRIPTS:

  scripts/04_run_workflow.sh --species {mouse,human}  - Single-line launcher (recommended)
  scripts/00_load_environment.sh  - Environment wrapper (advanced)
  scripts/03_preflight_check.sh  - Test all components
  run_tiger.py           - Main workflow script
  configs/default.yaml            - Configuration (edit settings here)
  resources/reference/gencode.vM37.transcripts.uc.joined  - Mouse transcriptome (replace for production runs)
  resources/reference/gencode.v47.transcripts.fa         - Human transcriptome (copied automatically if available)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DOCUMENTATION:

  ğŸ“– docs/READY_TO_USE.md      - Quick start (READ THIS FIRST!)
  ğŸ“– docs/WORKFLOW_GUIDE.md    - Complete guide
  ğŸ“– README.md                 - Full workflow documentation
  ğŸ“– docs/UPDATE_SUMMARY.txt   - Recent changes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

QUICK COMMANDS:

  # Run workflow
  scripts/04_run_workflow.sh targets.txt --species mouse
  
  # Bundled smoke test
  scripts/04_run_workflow.sh examples/targets/test_targets.txt --species mouse --config configs/smoke-test.yaml --output-dir runs/smoke --skip-validation
  
  # GPU run (set module as needed)
  TIGER_USE_GPU=1 TIGER_TF_GPU_MODULE=TensorFlow/2.15.1-gpu scripts/04_run_workflow.sh targets.txt --species mouse --threads 8
  
  # Dry run (preview)
  scripts/04_run_workflow.sh targets.txt --species mouse --dry-run
  
  # Test system
  scripts/03_preflight_check.sh
  
  # View help
  scripts/04_run_workflow.sh --help

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

WHAT'S NEW TODAY (2025-09-30):

  âœ… Species selector (`--species {mouse,human}`) routes Ensembl + transcriptomes automatically
  âœ… TIGER fully integrated (no external dependencies)
  âœ… MM0 >= 1 validation (excludes invalid guides)
  âœ… Score-first filtering (prioritizes high-quality guides)
  âœ… MM0 tolerance parameter (flexible filtering)
  âœ… MM0 location validation (analyzes cross-gene matches)
  âœ… Updated to min_guide_score: 0.80 (higher quality)
  âœ… Environment fully configured (vendor/venv_packages/)
  âœ… All tests passing (9/9)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

YOUR WORKFLOW IS READY! ğŸš€

Next step: Run with your actual targets!

  scripts/04_run_workflow.sh your_targets.txt --species {mouse,human}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Last Verified: 2025-09-30
All Tests: âœ… 9/9 Pass

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  WORKFLOW IS PRODUCTION READY! ğŸ‰                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
